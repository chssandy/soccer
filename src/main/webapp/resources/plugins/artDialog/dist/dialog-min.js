/*! artDialog v6.0.5 | https://github.com/aui/artDialog */
!function(){function e(a){var g=f[a],c="exports";return"object"==typeof g?g:(g[c]||(g[c]={},g[c]=g.call(g[c],e,g[c],g)||g[c]),g[c])}function d(g,c){f[g]=c}var f={};d("jquery",function(){return jQuery}),d("popup",function(h){function g(){this.destroyed=!1,this.__popup=l("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML).appendTo("body"),this.__backdrop=this.__mask=l("<div />").css({opacity:0.7,background:"#000"}),this.node=this.__popup[0],this.backdrop=this.__backdrop[0],k++}var l=h("jquery"),k=0,j=!("minWidth" in l("html")[0].style),i=!j;return l.extend(g.prototype,{node:null,backdrop:null,fixed:!1,destroyed:!0,open:!1,returnValue:"",autofocus:!0,align:"bottom left",innerHTML:"",className:"ui-popup",show:function(b){if(this.destroyed){return this}var n=this.__popup,m=this.__backdrop;if(this.__activeElement=this.__getActive(),this.open=!0,this.follow=b||this.follow,!this.__ready){if(n.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute"),j||l(window).on("resize",l.proxy(this.reset,this)),this.modal){var c={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||g.zIndex};n.addClass(this.className+"-modal"),i||l.extend(c,{position:"absolute",width:l(window).width()+"px",height:l(document).height()+"px"}),m.css(c).attr({tabindex:"0"}).on("focus",l.proxy(this.focus,this)),this.__mask=m.clone(!0).attr("style","").insertAfter(n),m.addClass(this.className+"-backdrop").insertBefore(n),this.__ready=!0}n.html()||n.html(this.innerHTML)}return n.addClass(this.className+"-show").show(),m.show(),this.reset().focus(),this.__dispatchEvent("show"),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(b){!this.destroyed&&this.open&&(void 0!==b&&(this.returnValue=b),this.__popup.hide().removeClass(this.className+"-show"),this.__backdrop.hide(),this.open=!1,this.blur(),this.__dispatchEvent("close")),this;return this.remove()},remove:function(){if(this.destroyed){return this}this.__dispatchEvent("beforeremove"),g.current===this&&(g.current=null),this.__popup.remove(),this.__backdrop.remove(),this.__mask.remove(),j||l(window).off("resize",this.reset),this.__dispatchEvent("remove");for(var b in this){delete this[b]}return this},reset:function(){var b=this.follow;return b?this.__follow(b):this.__center(),this.__dispatchEvent("reset"),this},focus:function(){var b=this.node,o=this.__popup,n=g.current,m=this.zIndex=g.zIndex++;if(n&&n!==this&&n.blur(!1),!l.contains(b,this.__getActive())){var c=o.find("[autofocus]")[0];!this._autofocus&&c?this._autofocus=!0:c=b,this.__focus(c)}return o.css("zIndex",m),g.current=this,o.addClass(this.className+"-focus"),this.__dispatchEvent("focus"),this},blur:function(){var m=this.__activeElement,c=arguments[0];return c!==!1&&this.__focus(m),this._autofocus=!1,this.__popup.removeClass(this.className+"-focus"),this.__dispatchEvent("blur"),this},addEventListener:function(m,c){return this.__getEventListener(m).push(c),this},removeEventListener:function(n,m){for(var p=this.__getEventListener(n),o=0;o<p.length;o++){m===p[o]&&p.splice(o--,1)}return this},__getEventListener:function(m){var c=this.__listener;return c||(c=this.__listener={}),c[m]||(c[m]=[]),c[m]},__dispatchEvent:function(n){var m=this.__getEventListener(n);this["on"+n]&&this["on"+n]();for(var o=0;o<m.length;o++){m[o].call(this)}},__focus:function(m){try{this.autofocus&&!/^iframe$/i.test(m.nodeName)&&m.focus()}catch(c){}},__getActive:function(){try{var n=document.activeElement,m=n.contentDocument,p=m&&m.activeElement||n;return p}catch(o){}},__center:function(){var z=this.__popup,y=l(window),x=l(document),w=this.fixed,v=w?0:x.scrollLeft(),u=w?0:x.scrollTop(),t=y.width(),s=y.height(),r=z.width(),q=z.height(),p=(t-r)/2+v,o=382*(s-q)/1000+u,c=z[0].style;c.left=Math.max(parseInt(p),v)+"px",c.top=Math.max(parseInt(o),u)+"px"},__follow:function(an){var am=an.parentNode&&l(an),al=this.__popup;if(this.__followSkin&&al.removeClass(this.__followSkin),am){var ak=am.offset();if(ak.left*ak.top<0){return this.__center()}}var aj=this,ai=this.fixed,ah=l(window),ag=l(document),af=ah.width(),ae=ah.height(),ad=ag.scrollLeft(),ac=ag.scrollTop(),ab=al.width(),aa=al.height(),Z=am?am.outerWidth():0,X=am?am.outerHeight():0,V=this.__offset(an),T=V.left,R=V.top,P=ai?T-ad:T,N=ai?R-ac:R,L=ai?0:ad,J=ai?0:ac,I=L+af-ab,c=J+ae-aa,Y={},W=this.align.split(" "),U=this.className+"-",S={top:"bottom",bottom:"top",left:"right",right:"left"},Q={top:"top",bottom:"top",left:"left",right:"left"},O=[{top:N-aa,bottom:N+X,left:P-ab,right:P+Z},{top:N,bottom:N-aa+X,left:P,right:P-ab+Z}],M={left:P+Z/2-ab/2,top:N+X/2-aa/2},K={left:[L,I],top:[J,c]};l.each(W,function(n,m){O[n][m]>K[Q[m]][1]&&(m=W[n]=S[m]),O[n][m]<K[Q[m]][0]&&(W[n]=S[m])}),W[1]||(Q[W[1]]="left"===Q[W[0]]?"top":"left",O[1][W[1]]=M[Q[W[1]]]),U+=W.join("-")+" "+this.className+"-follow",aj.__followSkin=U,am&&al.addClass(U),Y[Q[W[0]]]=parseInt(O[0][W[0]]),Y[Q[W[1]]]=parseInt(O[1][W[1]]),al.css(Y)},__offset:function(x){var w=x.parentNode,v=w?l(x).offset():{left:x.pageX,top:x.pageY};x=w?x:x.target;var u=x.ownerDocument,t=u.defaultView||u.parentWindow;if(t==window){return v}var s=t.frameElement,r=l(u),q=r.scrollLeft(),p=r.scrollTop(),o=l(s).offset(),n=o.left,c=o.top;return{left:v.left+n-q,top:v.top+c-p}}}),g.zIndex=1024,g.current=null,g}),d("dialog-config",{backdropBackground:"#000",backdropOpacity:0.7,content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"ok",cancelValue:"cancel",cancelDisplay:!0,width:"",height:"",padding:"",skin:"",quickClose:!1,cssUri:"../css/ui-dialog.css",innerHTML:'<div i="dialog" class="ui-dialog"><div class="ui-dialog-arrow-a"></div><div class="ui-dialog-arrow-b"></div><table class="ui-dialog-grid"><tr><td i="header" class="ui-dialog-header"><button i="close" class="ui-dialog-close">&#215;</button><div i="title" class="ui-dialog-title"></div></td></tr><tr><td i="body" class="ui-dialog-body"><div i="content" class="ui-dialog-content"></div></td></tr><tr><td i="footer" class="ui-dialog-footer"><div i="statusbar" class="ui-dialog-statusbar"></div><div i="button" class="ui-dialog-button"></div></td></tr></table></div>'}),d("dialog",function(B){var A=B("jquery"),z=B("popup"),y=B("dialog-config"),x=y.cssUri;if(x){var w=B[B.toUrl?"toUrl":"resolve"];w&&(x=w(x),x='<link rel="stylesheet" href="'+x+'" />',A("base")[0]?A("base").before(x):A("head").append(x))}var v=0,u=new Date-0,t=!("minWidth" in A("html")[0].style),s="createTouch" in document&&!("onmousemove" in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),r=!t&&!s,q=function(b,l,k){var j=b=b||{};("string"==typeof b||1===b.nodeType)&&(b={content:b,fixed:!s}),b=A.extend(!0,{},q.defaults,b),b.original=j;var h=b.id=b.id||u+v,g=q.get(h);return g?g.focus():(r||(b.fixed=!1),b.quickClose&&(b.modal=!0,b.backdropOpacity=0),A.isArray(b.button)||(b.button=[]),void 0!==k&&(b.cancel=k),b.cancel&&b.button.push({id:"cancel",value:b.cancelValue,callback:b.cancel,display:b.cancelDisplay}),void 0!==l&&(b.ok=l),b.ok&&b.button.push({id:"ok",value:b.okValue,callback:b.ok,autofocus:!0}),q.list[h]=new q.create(b))},p=function(){};p.prototype=z.prototype;var o=q.prototype=new p;return q.create=function(b){var h=this;A.extend(this,new z);var g=(b.original,A(this.node).html(b.innerHTML)),c=A(this.backdrop);return this.options=b,this._popup=g,A.each(b,function(j,i){"function"==typeof h[j]?h[j](i):h[j]=i}),b.zIndex&&(z.zIndex=b.zIndex),g.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")}),this._$("close").css("display",this.cancel===!1?"none":"").attr("title",this.cancelValue).on("click",function(i){h._trigger("cancel"),i.preventDefault()}),this._$("dialog").addClass(this.skin),this._$("body").css("padding",this.padding),b.quickClose&&c.on("onmousedown" in document?"mousedown":"click",function(){return h._trigger("cancel"),!1}),this.addEventListener("show",function(){c.css({opacity:0,background:b.backdropBackground}).animate({opacity:b.backdropOpacity},150)}),this._esc=function(j){var i=j.target,n=i.nodeName,m=/^input|textarea$/i,l=z.current===h,k=j.keyCode;!l||m.test(n)&&"button"!==i.type||27===k&&h._trigger("cancel")},A(document).on("keydown",this._esc),this.addEventListener("remove",function(){A(document).off("keydown",this._esc),delete q.list[this.id]}),v++,q.oncreate(this),this},q.create.prototype=o,A.extend(o,{content:function(b){var g=this._$("content");return"object"==typeof b?(b=A(b),g.empty("").append(b.show()),this.addEventListener("beforeremove",function(){A("body").append(b.hide())})):g.html(b),this.reset()},title:function(b){return this._$("title").text(b),this._$("header")[b?"show":"hide"](),this},width:function(b){return this._$("content").css("width",b),this.reset()},height:function(b){return this._$("content").css("height",b),this.reset()},button:function(b){b=b||[];var i=this,h="",g=0;return this.callbacks={},"string"==typeof b?(h=b,g++):A.each(b,function(c,l){var k=l.id=l.id||l.value,j="";i.callbacks[k]=l.callback,l.display===!1?j=' style="display:none"':g++,h+='<button type="button" i-id="'+k+'"'+j+(l.disabled?" disabled":"")+(l.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+l.value+"</button>",i._$("button").on("click","[i-id="+k+"]",function(m){var n=A(this);n.attr("disabled")||i._trigger(k),m.preventDefault()})}),this._$("button").html(h),this._$("footer")[g?"show":"hide"](),this},statusbar:function(b){return this._$("statusbar").html(b)[b?"show":"hide"](),this},_$:function(b){return this._popup.find("[i="+b+"]")},_trigger:function(g){var c=this.callbacks[g];return"function"!=typeof c||c.call(this)!==!1?this.close().remove():this}}),q.oncreate=A.noop,q.getCurrent=function(){return z.current},q.get=function(b){return void 0===b?q.list:q.list[b]},q.list={},q.defaults=y,q}),window.dialog=e("dialog")}();